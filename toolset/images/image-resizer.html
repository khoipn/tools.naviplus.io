---
layout: default
title: "Batch Image Resizer"
description: "Resize images with center crop, preview thumbnails, and download individually or as ZIP."
---

<div class="container py-4">
  <!-- Header -->
  <div class="row mb-3">
    <div class="col-12">
      <h1 class="h3 mb-1">Batch Image Resizer</h1>
      <p class="text-muted mb-0">Resize images with center crop. Preview thumbnails and download results individually or as a ZIP.</p>
    </div>
  </div>

  <!-- Card: Upload -->
  <div class="card mb-3">
    <div class="card-header"><strong>Upload Images</strong></div>
    <div class="card-body">
      <div id="dropzone" class="border border-2 border-primary-subtle rounded-3 p-4 text-center bg-light mb-3">
        <p class="mb-2"><strong>Drop images here</strong> or</p>
        <button id="selectBtn" class="btn btn-primary" type="button">Select files</button>
        <input id="fileInput" type="file" accept="image/*" multiple class="d-none" />
        <p class="small text-muted mb-0">Supports JPG, PNG, WebP, GIF. Files are processed locally on your device.</p>
      </div>

      <!-- Selected Files -->
      <div class="mb-3">
        <label class="form-label">Selected files</label>
        <div id="fileList" class="row row-cols-2 row-cols-md-6 g-2 small"></div>
      </div>

      <!-- Resize Options -->
      <div class="mb-3">
        <label class="form-label">Select target size</label>
        <div class="mb-2"><strong>Common</strong></div>
        <div class="d-flex flex-wrap gap-2 mb-2" id="sizeOptionsCommon">
          <label class="form-check">
            <input class="form-check-input" type="radio" name="size" value="1024x768" checked>
            <span class="form-check-label">1024×768</span>
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="size" value="1280x720">
            <span class="form-check-label">1280×720</span>
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="size" value="1440x960">
            <span class="form-check-label">1440×960</span>
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="size" value="1200x1200">
            <span class="form-check-label">1200×1200</span>
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="size" value="720x720">
            <span class="form-check-label">720×720</span>
          </label>
        </div>
        <div class="mb-2"><strong>Social</strong></div>
        <div class="d-flex flex-wrap gap-2" id="sizeOptionsSocial">
          <label class="form-check">
            <input class="form-check-input" type="radio" name="size" value="1200x628">
            <span class="form-check-label">Facebook Link (1200×628)</span>
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="size" value="1080x1080">
            <span class="form-check-label">Instagram Post (1080×1080)</span>
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="size" value="1080x1920">
            <span class="form-check-label">Instagram Story (1080×1920)</span>
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="size" value="1500x500">
            <span class="form-check-label">X/Twitter Header (1500×500)</span>
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="size" value="1584x396">
            <span class="form-check-label">LinkedIn Cover (1584×396)</span>
          </label>
          <label class="form-check">
            <input class="form-check-input" type="radio" name="size" value="2560x1440">
            <span class="form-check-label">YouTube Cover (2560×1440)</span>
          </label>
        </div>
      </div>

      <!-- Compression level -->
      <div class="mb-3">
        <label for="quality" class="form-label">Compression Quality</label>
        <input type="range" id="quality" min="0.3" max="1" step="0.05" value="0.75" class="form-range" />
        <div class="form-text">Approx quality: <span id="qualityVal">0.75</span></div>
      </div>

      <div class="d-flex gap-2 flex-wrap">
        <button id="processBtn" class="btn btn-success" disabled>Resize Images</button>
        <button id="clearBtn" class="btn btn-outline-secondary">Clear</button>
        <button id="zipBtn" class="btn btn-outline-primary" disabled>Download ZIP</button>
      </div>
    </div>
  </div>

  <!-- Card: Results -->
  <div id="resultsCard" class="card mb-3 d-none">
    <div class="card-header"><strong>Resized Previews</strong></div>
    <div class="card-body">
      <div id="gallery" class="row g-3"></div>
    </div>
  </div>

  <div class="alert alert-secondary small">
    <strong>Tip:</strong> Images are resized with center crop into the chosen size. You can adjust compression quality; filenames will keep original name + random suffix.
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>

<script>
(() => {
  const $ = (s,r=document) => r.querySelector(s);
  const dropzone = $('#dropzone');
  const selectBtn = $('#selectBtn');
  const fileInput = $('#fileInput');
  const processBtn = $('#processBtn');
  const clearBtn = $('#clearBtn');
  const zipBtn = $('#zipBtn');
  const gallery = $('#gallery');
  const fileList = $('#fileList');
  const resultsCard = $('#resultsCard');
  const quality = $('#quality');
  const qualityVal = $('#qualityVal');

  let files = [];
  let results = [];

  function renderFileList(){
    fileList.innerHTML='';
    files.forEach(f => {
      const col = document.createElement('div');
      col.className='col';
      const url = URL.createObjectURL(f);
      col.innerHTML = `<div class="border rounded-3 p-1 text-center">
        <img src="${url}" class="img-fluid mb-1" alt="thumb">
        <div class="text-truncate">${f.name}</div>
      </div>`;
      fileList.appendChild(col);
    });
  }

  function addFiles(newFiles){
    files = files.concat(Array.from(newFiles));
    renderFileList();
    processBtn.disabled = files.length===0;
  }

  clearBtn.addEventListener('click', ()=>{
    files=[]; results=[]; gallery.innerHTML=''; fileList.innerHTML='';
    processBtn.disabled = true; zipBtn.disabled = true; resultsCard.classList.add('d-none');
  });

  // Drag & drop
  ['dragenter','dragover','dragleave','drop'].forEach(evt => {
    document.addEventListener(evt, e => { e.preventDefault(); e.stopPropagation(); }, false);
  });
  dropzone.addEventListener('drop', e => addFiles(e.dataTransfer.files));
  selectBtn.addEventListener('click', () => fileInput.click());
  fileInput.addEventListener('change', e => { addFiles(e.target.files); fileInput.value=''; });

  quality.addEventListener('input', ()=>{ qualityVal.textContent=quality.value; });

  function getSelectedSize(){
    const checked = document.querySelector('input[name="size"]:checked');
    return checked ? checked.value.split('x').map(Number) : null;
  }

  function cropFit(img, W, H){
    const canvas = document.createElement('canvas');
    canvas.width = W; canvas.height = H;
    const ctx = canvas.getContext('2d');
    const r = Math.max(W/img.width, H/img.height);
    const nw = img.width*r, nh = img.height*r;
    const ox = (W-nw)/2, oy = (H-nh)/2;
    ctx.drawImage(img, ox, oy, nw, nh);
    return canvas;
  }

  async function process(){
    gallery.innerHTML=''; results=[];
    const size = getSelectedSize();
    if(!size) return;
    const [W,H] = size;
    const q = parseFloat(quality.value);
    for(const file of files){
      const img = await loadImage(file);
      const canvas = cropFit(img,W,H);
      const blob = await new Promise(r=>canvas.toBlob(r,'image/jpeg',q));
      const url = URL.createObjectURL(blob);
      const rand = Math.floor(Math.random()*10000);
      const base = file.name.replace(/\.[^.]+$/, '');
      const filename = `${base}_${rand}.jpg`;
      results.push({name: filename, blob});
      const col = document.createElement('div');
      col.className='col-6 col-md-3';
      col.innerHTML = `<div class="border rounded-3 p-1 text-center">
        <img src="${url}" class="img-fluid mb-1" alt="thumb">
        <a class="btn btn-sm btn-outline-success" href="${url}" download="${filename}">Download</a>
      </div>`;
      gallery.appendChild(col);
    }
    zipBtn.disabled = results.length===0;
    if(results.length) resultsCard.classList.remove('d-none');
  }

  function loadImage(file){
    return new Promise((res,rej)=>{
      const img = new Image();
      img.onload=()=>res(img);
      img.onerror=rej;
      img.src=URL.createObjectURL(file);
    });
  }

  processBtn.addEventListener('click', process);

  zipBtn.addEventListener('click', async ()=>{
    if(!results.length) return;
    zipBtn.disabled = true; zipBtn.textContent='Zipping...';
    const zip = new JSZip();
    results.forEach(r=>zip.file(r.name,r.blob));
    const blob = await zip.generateAsync({type:'blob'});
    const url = URL.createObjectURL(blob);
    const a=document.createElement('a'); a.href=url; a.download='resized_images.zip';
    document.body.appendChild(a); a.click(); a.remove();
    setTimeout(()=>URL.revokeObjectURL(url),4000);
    zipBtn.disabled = false; zipBtn.textContent='Download ZIP';
  });
})();
</script>
